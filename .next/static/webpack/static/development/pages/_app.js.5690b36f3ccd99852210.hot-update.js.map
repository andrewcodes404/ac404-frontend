{"version":3,"file":"static/webpack/static/development/pages/_app.js.5690b36f3ccd99852210.hot-update.js","sources":["webpack:///./components/PageWrapper.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Query } from 'react-apollo'\nimport gql from 'graphql-tag'\n\n// comps\nimport Meta from './lib/Meta'\nimport Navigation from './lib/Navigation'\n\nconst CURRENT_USER_QUERY = gql`\n    query {\n        user {\n            id\n            email\n            name\n            permissions\n        }\n    }\n`\n\nclass PageWrapper extends React.Component {\n    state = {\n        loggedIn: false,\n    }\n\n    render() {\n        // const user = true\n\n        return (\n            <div>\n                {/* <User>\n                    {({ data: { user } }) => {\n                        console.log('user = ', user)\n\n                        if (user) {\n                            // this.setState({ loggedIn: me })\n                            console.log('yes logged in')\n                        }\n                        return (\n                           \n                        )\n                    }}\n                </User> */}\n\n                <Query query={CURRENT_USER_QUERY}>\n                    {({ data: { user }, error, loading }) => {\n                        if (loading) return <p>Loading...</p>\n                        if (error) return <p>Error: {error.message}</p>\n\n                        //don't use data.user as a bool ☠️\n                        var loggedIn = false\n                        user ? (loggedIn = true) : (loggedIn = false)\n                        console.log('loggedIn = ', loggedIn)\n\n                        return (\n                            <div>\n                                <Meta />\n                                <Navigation loggedIn={loggedIn} />\n\n                                {/* <div className=\"page-wrapper\">\n                                    {this.props.children}\n                                </div> */}\n                                <div className=\"page-wrapper\">\n                                    {React.Children.map(\n                                        this.props.children,\n                                        child =>\n                                            React.cloneElement(child, {\n                                                loggedIn,\n                                            })\n                                    )}\n                                </div>\n                            </div>\n                        )\n                    }}\n                </Query>\n            </div>\n        )\n    }\n}\n\nPageWrapper.propTypes = {\n    children: PropTypes.node.isRequired,\n}\n\nexport default PageWrapper\nexport { CURRENT_USER_QUERY }\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAUA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;;;;;;AAGA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AADA;AADA;AAQA;AAIA;;;;AAzDA;AACA;AA2DA;AACA;AADA;AAIA;;;;;A","sourceRoot":""}